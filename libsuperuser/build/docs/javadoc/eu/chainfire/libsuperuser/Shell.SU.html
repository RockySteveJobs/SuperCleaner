<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (1.8.0_152-release) on Thu Nov 30 09:32:40 CST 2017 -->
<title>Shell.SU (libsuperuser 1.0.0.201711300931 API)</title>
<meta name="date" content="2017-11-30">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Shell.SU (libsuperuser 1.0.0.201711300931 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9};
var tabs = {65535:["t0","所有方法"],1:["t1","静态方法"],8:["t4","具体方法"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../eu/chainfire/libsuperuser/package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../eu/chainfire/libsuperuser/Shell.SH.html" title="eu.chainfire.libsuperuser中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../eu/chainfire/libsuperuser/ShellNotClosedException.html" title="eu.chainfire.libsuperuser中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?eu/chainfire/libsuperuser/Shell.SU.html" target="_top">框架</a></li>
<li><a href="Shell.SU.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">eu.chainfire.libsuperuser</div>
<h2 title="类 Shell.SU" class="title">类 Shell.SU</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>eu.chainfire.libsuperuser.Shell.SU</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>封闭类:</dt>
<dd><a href="../../../eu/chainfire/libsuperuser/Shell.html" title="eu.chainfire.libsuperuser中的类">Shell</a></dd>
</dl>
<hr>
<br>
<pre>public static class <span class="typeNameLabel">Shell.SU</span>
extends java.lang.Object</pre>
<div class="block">This class provides utility functions to easily execute commands using SU
 (root shell), as well as detecting whether or not root is available, and
 if so which version.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>构造器概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="构造器概要表, 列表构造器和解释">
<caption><span>构造器</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">构造器和说明</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#SU--">SU</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span id="t0" class="activeTableTab"><span>所有方法</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">静态方法</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">具体方法</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#available--">available</a></span>()</code>
<div class="block">Detects whether or not superuser access is available, by checking the
 output of the "id" command if available, checking if a shell runs at
 all otherwise</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#clearCachedResults--">clearCachedResults</a></span>()</code>
<div class="block">
 Clears results cached by isSELinuxEnforcing() and version(boolean
 internal) calls.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#isSELinuxEnforcing--">isSELinuxEnforcing</a></span>()</code>
<div class="block">Detect if SELinux is set to enforcing, caches result</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#isSU-java.lang.String-">isSU</a></span>(java.lang.String&nbsp;shell)</code>
<div class="block">Attempts to deduce if the shell command refers to a su shell</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#run-java.util.List-">run</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;commands)</code>
<div class="block">Runs commands as root (if available) and return output</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#run-java.lang.String-">run</a></span>(java.lang.String&nbsp;command)</code>
<div class="block">Runs command as root (if available) and return output</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#run-java.lang.String:A-">run</a></span>(java.lang.String[]&nbsp;commands)</code>
<div class="block">Runs commands as root (if available) and return output</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#shell-int-java.lang.String-">shell</a></span>(int&nbsp;uid,
     java.lang.String&nbsp;context)</code>
<div class="block">Constructs a shell command to start a su shell using the supplied uid
 and SELinux context.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#shellMountMaster--">shellMountMaster</a></span>()</code>
<div class="block">Constructs a shell command to start a su shell connected to mount
 master daemon, to perform public mounts on Android 4.3+ (or 4.2+ in
 SELinux enforcing mode)</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../eu/chainfire/libsuperuser/Shell.SU.html#version-boolean-">version</a></span>(boolean&nbsp;internal)</code>
<div class="block">
 Detects the version of the su binary installed (if any), if supported
 by the binary.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>构造器详细资料</h3>
<a name="SU--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SU</h4>
<pre>public&nbsp;SU()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="run-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public static&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;run(java.lang.String&nbsp;command)</pre>
<div class="block">Runs command as root (if available) and return output</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>command</code> - The command to run</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Output of the command, or null if root isn't available or in
 case of an error</dd>
</dl>
</li>
</ul>
<a name="run-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public static&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;run(java.util.List&lt;java.lang.String&gt;&nbsp;commands)</pre>
<div class="block">Runs commands as root (if available) and return output</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>commands</code> - The commands to run</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Output of the commands, or null if root isn't available or in
 case of an error</dd>
</dl>
</li>
</ul>
<a name="run-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public static&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;run(java.lang.String[]&nbsp;commands)</pre>
<div class="block">Runs commands as root (if available) and return output</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>commands</code> - The commands to run</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Output of the commands, or null if root isn't available or in
 case of an error</dd>
</dl>
</li>
</ul>
<a name="available--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>available</h4>
<pre>public static&nbsp;boolean&nbsp;available()</pre>
<div class="block">Detects whether or not superuser access is available, by checking the
 output of the "id" command if available, checking if a shell runs at
 all otherwise</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>True if superuser access available</dd>
</dl>
</li>
</ul>
<a name="version-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>version</h4>
<pre>public static&nbsp;java.lang.String&nbsp;version(boolean&nbsp;internal)</pre>
<div class="block"><p>
 Detects the version of the su binary installed (if any), if supported
 by the binary. Most binaries support two different version numbers,
 the public version that is displayed to users, and an internal
 version number that is used for version number comparisons. Returns
 null if su not available or retrieving the version isn't supported.
 </p>
 <p>
 Note that su binary version and GUI (APK) version can be completely
 different.
 </p>
 <p>
 This function caches its result to improve performance on multiple
 calls
 </p></div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>internal</code> - Request human-readable version or application
                 internal version</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>String containing the su version or null</dd>
</dl>
</li>
</ul>
<a name="isSU-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSU</h4>
<pre>public static&nbsp;boolean&nbsp;isSU(java.lang.String&nbsp;shell)</pre>
<div class="block">Attempts to deduce if the shell command refers to a su shell</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>shell</code> - Shell command to run</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Shell command appears to be su</dd>
</dl>
</li>
</ul>
<a name="shell-int-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shell</h4>
<pre>public static&nbsp;java.lang.String&nbsp;shell(int&nbsp;uid,
                                     java.lang.String&nbsp;context)</pre>
<div class="block">Constructs a shell command to start a su shell using the supplied uid
 and SELinux context. This is can be an expensive operation, consider
 caching the result.</div>
<dl>
<dt><span class="paramLabel">参数:</span></dt>
<dd><code>uid</code> - Uid to use (0 == root)</dd>
<dd><code>context</code> - (SELinux) context name to use or null</dd>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Shell command</dd>
</dl>
</li>
</ul>
<a name="shellMountMaster--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shellMountMaster</h4>
<pre>public static&nbsp;java.lang.String&nbsp;shellMountMaster()</pre>
<div class="block">Constructs a shell command to start a su shell connected to mount
 master daemon, to perform public mounts on Android 4.3+ (or 4.2+ in
 SELinux enforcing mode)</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>Shell command</dd>
</dl>
</li>
</ul>
<a name="isSELinuxEnforcing--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSELinuxEnforcing</h4>
<pre>public static&nbsp;boolean&nbsp;isSELinuxEnforcing()</pre>
<div class="block">Detect if SELinux is set to enforcing, caches result</div>
<dl>
<dt><span class="returnLabel">返回:</span></dt>
<dd>true if SELinux set to enforcing, or false in the case of
 permissive or not present</dd>
</dl>
</li>
</ul>
<a name="clearCachedResults--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>clearCachedResults</h4>
<pre>public static&nbsp;void&nbsp;clearCachedResults()</pre>
<div class="block"><p>
 Clears results cached by isSELinuxEnforcing() and version(boolean
 internal) calls.
 </p>
 <p>
 Most apps should never need to call this, as neither enforcing status
 nor su version is likely to change on a running device - though it is
 not impossible.
 </p></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="跳过导航链接">跳过导航链接</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../eu/chainfire/libsuperuser/package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../eu/chainfire/libsuperuser/Shell.SH.html" title="eu.chainfire.libsuperuser中的类"><span class="typeNameLink">上一个类</span></a></li>
<li><a href="../../../eu/chainfire/libsuperuser/ShellNotClosedException.html" title="eu.chainfire.libsuperuser中的类"><span class="typeNameLink">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?eu/chainfire/libsuperuser/Shell.SU.html" target="_top">框架</a></li>
<li><a href="Shell.SU.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">构造器</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">方法</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
